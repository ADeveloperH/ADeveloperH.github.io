---
layout: post
title: Java多线程概述
categories: java并发编程
---

## 1 什么是多线程 ##

### 1.1 理解几个概念： ###

-  进程：正在执行的应用程序
-  线程：进程的执行单元，执行路径
-  单线程：一个应用程序只有一条执行路径
-  多线程：一个应用程序有多条执行路径

### 1.2 多进程的意义 ###

提高CPU的使用率。单进程的计算机只能做一件事情，而我们现在的计算机都可以做多件事情。

举例：一边玩游戏(游戏进程)，一边听音乐(音乐进程)。

也就是说现在的计算机都是支持多进程的，可以在一个时间段内执行多个任务。并且呢，可以提高CPU的使用率。

### 1.3 多线程的意义 ###

提高应用程序的使用率。多线程的存在，不是提高程序的执行速度。其实是为了提高应用程序的使用率。
程序的执行其实都是在抢CPU的资源，CPU的执行权。

多个进程是在抢这个资源，而其中的某一个进程如果执行路径比较多，就会有更高的几率抢到CPU的执行权。

我们是不敢保证哪一个线程能够在哪个时刻抢到，所以线程的执行有随机性。

## 2 Java程序的运行原理及JVM的启动是多线程的 ##

**Java的运行原理**：Java命令去启动JVM，JVM会启动一个进程，该进程会启动一个主线程。JVM的启动是多线程的，因为它最低有两个线程启动了，主线程和垃圾回收线程。

## 3 线程的调度和优先级问题 ##

线程的调度：`分时调度`和`抢占式调度（Java采用的是抢占式调度）`
线程的优先级：默认为5.范围为1-10

## 4 线程的生命周期 ##

线程的生命周期主要包括五个过程，分别为：新建、就绪、运行、阻塞、死亡。下边通过一幅图来理解整个生命周期。

- 新建：创建线程对象
- 就绪：有执行资格但是没有执行权，只有分配到时间片时才有执行权，去运行。
- 运行：有执行的资格且有执行权，可以执行。
- 阻塞：由于一些操作让线程处于该状态，没有执行资格，也没有执行权，但是另外一些操作可以将其激活，激活后处于就绪状态。
- 死亡：线程对象变成垃圾，等待被回收。

线程的生命周期图如下：

![多线程生命周期图示](https://raw.githubusercontent.com/ADeveloperH/ADeveloperH.github.io/master/assets/20171203/01.png)
